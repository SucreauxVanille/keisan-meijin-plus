<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>計算名人君プラス</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f5f5fa; padding: 2em; }
    .fraction { display: inline-block; vertical-align: middle; text-align: center; margin: 0 5px; font-size: 1.8em; line-height: 1.2em; }
    .fraction .top { border-bottom: 1px solid #000; display: block; padding: 0 5px; }
    .fraction .bottom { display: block; padding: 0 5px; }
    .fraction-input { display: inline-block; vertical-align: middle; margin: 0 5px; text-align: center; }
    .fraction-input input { display: block; width: 60px; font-size: 1.5em; margin: 5px auto; text-align: center; }
    input[type="number"] { font-size: 1.5em; padding: 0.5em; width: 100px; margin: 0.5em; text-align: center; }
    button { font-size: 1.5em; padding: 0.6em 1.2em; margin: 1em; background-color: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; }
    button:hover { background-color: #45a049; }
    select { font-size: 1.2em; padding: 0.3em; margin-bottom: 1em; }
    #question { font-size: 1.8em; margin: 1em 0; font-weight: bold; }
    #result, #streak, #message { font-size: 1.5em; margin-top: 1em; font-weight: bold; }
    #egg-container, #dino-container { margin-top: 2em; }
    .creature-img { width: 180px; transition: filter 0.3s ease; display: none; margin: 10px auto; }
    .red { filter: hue-rotate(0deg); }
    .blue { filter: hue-rotate(200deg); }
    .green { filter: hue-rotate(100deg); }
  </style>
</head>
<body>
  <h1>計算名人君プラス</h1>
  <p>3項計算・答えは分数または整数で入力しよう！</p>
  <div id="question">問題を読み込み中...</div>
  <div>
    <label for="answerType">答えの形式：</label>
    <select id="answerType" onchange="toggleInput()">
      <option value="fraction">分数</option>
      <option value="integer">整数</option>
    </select>
  </div>
  <div id="answerFraction" class="fraction-input">
    <input type="number" id="numerator" placeholder="分子">
    <div style="font-size: 1.5em; line-height: 0.5em;">―</div>
    <input type="number" id="denominator" placeholder="分母">
  </div>
  <div id="answerInteger" style="display:none;">
    <input type="number" id="integerAnswer" placeholder="整数で入力">
  </div>
  <button onclick="checkAnswer()">答え合わせ</button>
  <div id="result"></div>
  <div id="streak">連続正解数: 0</div>
  <div id="message"></div>

  <div id="egg-container">
    <img id="eggImage" class="creature-img" src="" alt="たまご表示">
  </div>
  <div id="dino-container">
    <img id="dino" src="triceratops.png" class="creature-img red" alt="トリケラトプス">
  </div>

  <script>
    // JavaScriptコードは既存のままでOK
    // 必要に応じて追加CSS対応済み
  </script>
</body>
</html>
